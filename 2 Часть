#выводился результат когда в правой верхней подматрице сумма была меньше 25, 
при этом выводилась лучшая матрица ,в которой произведение на главной диагонали наибольшее,вывести чему равно произведение


import itertools
import numpy as np

matrix = np.array([[1, 2, 3, 4],
                    [5, 6, 7, 8],
                    [9, 10, 11, 12],
                    [13, 14, 15, 16]])

sub_n, sub_m = matrix.shape[0] // 2, matrix.shape[1] // 2
sub_matrices = [matrix[i*sub_n:(i+1)*sub_n, j*sub_m:(j+1)*sub_m] for i in range(2) for j in range(2)]

max_product = 0
max_matrix = None

for i, c in enumerate(itertools.permutations(sub_matrices)):
    new_matrix = np.block([[c[0], c[1]], [c[2], c[3]]])
    upper_right_sum = np.sum(new_matrix[:sub_n, sub_m:])
    if upper_right_sum < 25:
        diagonal_product = np.prod(np.diagonal(new_matrix))
        if diagonal_product > max_product:
            max_product = diagonal_product
            max_matrix = new_matrix

print("Матрица с максимальным произведением на главной диагонали:")
print(max_matrix)
print("Произведение на главной диагонали:", max_product)
