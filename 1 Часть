#Дана квадратная матрица, состоящая из четырех равных по размерам подматриц. Сформировать все возможные варианты данной матрицы путем перестановки данных подматриц.
from itertools import permutations

# исходная матрица
matrix = [[1, 2, 3, 4],
          [5, 6, 7, 8],
          [9, 10, 11, 12],
          [13, 14, 15, 16]]

# функция для перестановки подматриц
def generate_all_matrices(matrix):
    all_matrices = []
    for p in permutations(range(4)):
        temp_matrix = [matrix[p[0]][p[0]:p[0]+4],
            matrix[p[1]][p[1]:p[1]+4],
            matrix[p[2]][p[2]:p[2]+4],
            matrix[p[3]][p[3]:p[3]+4]
        ]
        all_matrices.append(temp_matrix)
    return all_matrices

# генерация всех возможных вариантов матриц
all_matrices = generate_all_matrices(matrix)

# вывод всех сгенерированных матриц
for i, m in enumerate(all_matrices):
    print(f"Матрица {i+1}:")
    for row in m:
        print(row)
    print("\n")
